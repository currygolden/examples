### 信息搜索来源
1. runoob 基础文档
2. 一些面试题建立知识体系 https://javaguide.cn/database/basis.html
3. https://zq99299.github.io/mysql-tutorial/ali-new-retail/04/01.html （数据库综合教程）
4. https://github.com/zq99299/repository-summary (java可阅读知识)

### 登陆本地mysql服务器
1. 安装启动mysql
2. mac 上使用Sequel Pro 作为可视化数据库操作工具
3. 在Sequel Pro使用sql文件创建并初始化表结构 file-import
host： 127.0.0.1
port： 3306
username： root
password：  111111


```
#### mysql密码 
- fish123

### 分表查询
- 笛卡尔积错误,缺少多表连接条件
- 多表查询时，每个字段钱指明所在的表，此时可以给表提供别名
- 如果提供别名则必须使用，否则报错
- 如果存在n个表的查询，至少需要n-1个连接条件
- 等值/非等值连接，自连接/非自连接
- 内连接：合并有同一列两个以上的表的行数据，结果不包含不匹配的行
- 外连接：类似集合的交集部分，左外，右外，满外连接,一共有7种组合方式（理解7种的实现，实现JOIN UNION 的常见语法）
- 使用UNION关键词合并多查询结果，UNION ALL：重复部分不去重，查询效率比前者高
```

### 常见问题总结
1. 请简述数据库中索引的作用及其类型，如何创建索引？
2. 使用外键考虑的业务场景，哪些优劣需要考虑
3. 请解释什么是数据库事务？请至少列举三种数据库隔离级别。
4. 如何优化 SQL 查询语句的性能？
5. 请简述表的范式（Normalization）和反范式（Denormalization）的概念及其区别。
   1. （第一）数据表中的每个列都包含原子性的值，即每个列都是不可再分的最小单元，不包含重复的数据项。这意味着每个单元格中只包含一个值，而不是多个值的集合。
   2. 每个非主键列都必须直接依赖于全部主键，而不是依赖于主键的一部分。如果存在部分依赖，则需要将相关数据拆分到另一个表中，以确保每个表都符合第一范式
   3. 任何非主键列之间不能存在传递依赖关系。换句话说，非主键列之间不能相互依赖。需要将相关的非主键列拆分到另一个表中，以消除这种依赖关系。
6. 如何进行 MySQL 数据库的备份和恢复？备份的方法有哪些？
7. 请问如何避免 SQL 注入攻击？如何防范其他的数据安全问题？
8. SQL 分组查询中，HAVING 与 WHERE 的区别是什么？
9. 如何进行 MySQL 数据库的性能优化？请至少列举三种优化方式。
10. 如何创建 MySQL 数据库的用户和授权？
11. 如何进行 MySQL 数据库在线迁移及其原理？
12. 数据库设计思路
    1.  采用领域模型驱动的方式和自顶向下的思路进行数据库设计，首先分析系统业务，根据职责定义对象。对象要符合封装的特性，确保与职责相关的数据项被定义在一个对象之内，这些数据项能够完整描述该职责，不会出现职责描述缺失。并且一个对象有且只有一项职责，如果一个对象要负责两个或两个以上的职责，应进行分拆。


### 作为资深数据库开发工程师，以下是我个人的建议，希望能对你有所帮助：
1. 熟悉 SQL 语言
SQL 是关系型数据库的标准查询语言，是数据库开发工程师必须掌握的基本技能。需要熟悉 SQL 语言的基本语法、查询优化、索引优化等方面的知识。
  - 熟悉，了解常见的sql语法，查询语法

2. 熟悉数据库设计和优化

数据库设计是数据库开发的基础，需要熟悉数据库设计的基本原则、范式理论、关系模型等方面的知识。此外，还需要熟悉数据库优化的方法和技巧，包括索引优化、查询优化、存储优化等方面的知识。

3. 熟悉数据库管理和维护

数据库管理和维护是数据库开发工程师的重要工作之一，需要熟悉数据库备份和恢复、性能监控和调优、安全管理等方面的知识。

4. 熟悉 NoSQL 数据库

NoSQL 数据库是近年来发展非常迅速的数据库类型，需要熟悉 NoSQL 数据库的基本概念、分类、优缺点等方面的知识。

5. 熟悉分布式数据库

随着互联网的发展，分布式数据库成为了数据库领域的一个热门话题，需要熟悉分布式数据库的基本概念、架构、优缺点等方面的知识。

常见面试题包括：

1. 什么是 SQL？SQL 有哪些基本命令？

2. 什么是数据库范式？常见的范式有哪些？
  2.1 第一范式（1NF）：要求数据库表的每一列都是原子性的，即不可再分解
  2.2 第二范式（2NF）：要求数据库表中的每个非主键列都完全依赖于主键，而不是依赖于主键的一部分
  2.3 第三范式（3NF）：要求数据库表中的每个非主键列都不依赖于其他非主键列，而是依赖于主键。
  2.4 巴斯-科德范式（BCNF）：要求数据库表中的每个非主键列都与主键有函数依赖关系，即每个非主键列都可以通过主键计算得出
  2.5 第四范式（4NF）：要求数据库表中的每个多值依赖关系都被拆分为独立的关系表
1. 什么是索引？索引有哪些优缺点？
   1. 对某些典型查询场景建立索引可以优化查询，比如对某几列建立索引，后续不需要查询整个表
   2. 过多的索引可能会导致查询优化器无法选择最优的索引，从而降低查询效率

2. 什么是事务？事务的 ACID 特性是什么？
   1. 事务是指一组数据库操作，这些操作要么全部执行成功，要么全部执行失败，是数据库管理系统中的一个基本概念。事务可以保证数据库的一致性和完整性，是保证数据安全和可靠性的重要手段。
   2. 原子性（Atomicity）：事务是一个原子操作，要么全部执行成功，要么全部执行失败，不存在部分执行的情况。
   
      一致性（Consistency）：事务执行前后，数据库的状态必须保持一致，即数据库从一个一致性状态转换到另一个一致性状态。

      隔离性（Isolation）：事务之间是相互隔离的，每个事务都应该感觉不到其他事务的存在，即每个事务都应该认为自己是唯一的事务。

      持久性（Durability）：事务一旦提交，其结果就应该永久保存在数据库中，即使发生系统故障也不应该丢失。
  1. 一般在更新操作，多个操作的组合，高并发操作需要开启事务

3. 什么是数据库锁？数据库锁有哪些类型？
   1. 是一种用于控制并发访问的机制，可以保证多个用户同时访问数据库时数据的一致性和完整性。
   2. 悲观锁通常使用数据库的行级锁或表级锁来实现，可以保证数据的一致性和完整性，但是会降低并发性能
   3. 乐观锁通常使用版本号或时间戳等机制来实现，认为并发访问时不一定会发生冲突，因此不需要在访问数据之前进行加锁

4. 什么是数据库连接池？数据库连接池有哪些优缺点？
   1. 数据库连接池是一种用于管理数据库连接的技术，它可以在应用程序和数据库之间建立一个连接池，以便在需要时从池中获取连接，而不是每次都重新建立连接
   2. 数据库连接池是一种非常有用的技术，它可以提高应用程序的性能和可靠性，但是需要在使用时注意配置和调优，以避免出现性能和安全问题。

5. 什么是 NoSQL 数据库？NoSQL 数据库有哪些类型？

6. 什么是分布式数据库？分布式数据库的优缺点是什么？

7.  如何进行数据库备份和恢复？

8.  如何进行数据库性能监控和调优？
9.   什么是数据库事务？如何保证事务的原子性、一致性、隔离性和持久性？

10. 什么是数据库视图？视图有哪些优缺点？

11. 什么是数据库触发器？触发器有哪些类型？

12. 什么是数据库存储过程？存储过程有哪些优缺点？

13. 什么是数据库复制？数据库复制有哪些优缺点？

14. 什么是数据库分区？数据库分区有哪些优缺点？
    1.  数据库分区是指将一个大型数据库分割成多个小型数据库的过程，每个小型数据库被称为一个分区（Partition），每个分区可以独立存储数据和执行查询操作。数据库分区通常由数据库管理系统（DBMS）来实现

15. 什么是数据库分表？数据库分表有哪些优缺点？

16. 什么是数据库分库？数据库分库有哪些优缺点？
    1.  数据库分库是由应用程序来实现的，它将一个大型数据库分割成多个小型数据库，每个小型数据库被称为一个分库，每个分库可以独立存储数据和执行查询操作。数据库分库通常用于解决单个数据库的并发访问量过大的问题，可以提高数据库的并发性和响应速度。

17. 什么是数据库连接？数据库连接有哪些优缺点？

18. 如何进行数据库安全管理？数据库安全管理有哪些措施？
19. 数据库设计案例分析
    1.  假如现在需要设计电商系统，在初步理清业务逻辑的背景下，包含如下表结构
        1.  商品表：商品ID（product_id）、商品名称（product_name）、商品描述（product_description）、商品价格（product_price）、商品库存（product_stock）
        2.  订单表：订单ID（order_id）、用户ID（user_id）、订单状态（order_status）、订单总价（order_total_price）
        3.  用户表：用户ID（user_id）、用户名（user_name）、密码（password）、手机号（phone_number）
        4.  收货地址表（address）：地址ID（address_id）、用户ID（user_id）、收货人姓名（receiver_name）、收货人手机号（receiver_phone_number）、收货地址（address_detail）
        5.  购物车表：购物车ID（cart_id）、用户ID（user_id）、商品ID（product_id）、商品数量（product_quantity）
        6.  商品分类表：分类ID（category_id）、分类名称（category_name）、分类描述（category_description）
        7.  商品评价表：评价ID（comment_id）、用户ID（user_id）、商品ID（product_id）、评价内容（comment_content）、评价时间（comment_time）
        8.  订单详情表：订单详情ID（order_detail_id）、订单ID（order_id）、商品ID（product_id）、商品数量（product_quantity）、商品单价（product_price）
        9.  商品图片表：图片ID（image_id）、商品ID（product_id）、图片URL（image_url）、图片描述（image_description）
    2.  以上是初步根据业务属性定义的表结构，有以下特点
        1.  满足数据库范式，任何属性一旦可拆分，需要单独维护
        2.  建立表之间的关系： 使用外键建立不同表关联
        3.  使用sql语句初始化表信息

### 场景问题总结
1. 遇到慢查询，慢SQL的业务场景，该从哪些角度思考，哪些策略
   1. 
